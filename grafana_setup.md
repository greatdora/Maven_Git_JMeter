# Grafana å®‰è£…å’Œé…ç½®æŒ‡å—

## ğŸ¯ Grafana ä¼˜åŠ¿

### âœ… **ä¸“ä¸šçº§åŠŸèƒ½ï¼š**
- **å¤šç§å›¾è¡¨ç±»å‹** - æŠ˜çº¿å›¾ã€æŸ±çŠ¶å›¾ã€çƒ­åŠ›å›¾ã€ä»ªè¡¨ç›˜ã€è¡¨æ ¼ç­‰
- **å®æ—¶æ•°æ®æ›´æ–°** - æ”¯æŒå®æ—¶æ•°æ®æµå’Œå‘Šè­¦
- **ä¸°å¯Œçš„äº¤äº’** - ç¼©æ”¾ã€å¹³ç§»ã€æ—¶é—´èŒƒå›´é€‰æ‹©ã€å˜é‡è¿‡æ»¤
- **å‘Šè­¦åŠŸèƒ½** - æ€§èƒ½é˜ˆå€¼å‘Šè­¦å’Œé€šçŸ¥
- **å¤šæ•°æ®æº** - æ”¯æŒPrometheusã€InfluxDBã€MySQLã€PostgreSQLç­‰
- **æƒé™ç®¡ç†** - ç”¨æˆ·å’Œå›¢é˜Ÿæƒé™æ§åˆ¶

## ğŸ“Š JMeter + Grafana æ•ˆæœå±•ç¤º

### ğŸ¨ **Dashboard å¸ƒå±€ï¼š**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    JMeter Performance Dashboard        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Response Time      â”‚  Success Rate                  â”‚
â”‚  Trend Chart       â”‚  Trend Chart                   â”‚
â”‚                     â”‚                                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Throughput         â”‚  Performance Summary           â”‚
â”‚  Trend Chart       â”‚  (Stat Cards)                  â”‚
â”‚                     â”‚                                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Thread Group Performance Table                       â”‚
â”‚  (å®æ—¶æ•°æ®è¡¨æ ¼)                                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ğŸ“ˆ **å›¾è¡¨ç‰¹æ€§ï¼š**
- **å“åº”æ—¶é—´è¶‹åŠ¿å›¾** - æ˜¾ç¤ºå„çº¿ç¨‹ç»„å“åº”æ—¶é—´å˜åŒ–
- **æˆåŠŸç‡è¶‹åŠ¿å›¾** - æ˜¾ç¤ºæˆåŠŸç‡å˜åŒ–è¶‹åŠ¿
- **ååé‡è¶‹åŠ¿å›¾** - æ˜¾ç¤ºååé‡å˜åŒ–è¶‹åŠ¿
- **æ€§èƒ½ç»Ÿè®¡å¡ç‰‡** - å®æ—¶æ˜¾ç¤ºå¹³å‡å€¼
- **æ•°æ®è¡¨æ ¼** - è¯¦ç»†çš„æ€§èƒ½æ•°æ®

## ğŸš€ å®‰è£…æ­¥éª¤

### 1. **å®‰è£… Grafana**

**macOS (ä½¿ç”¨ Homebrew):**
```bash
brew install grafana
brew services start grafana
```

**Docker:**
```bash
docker run -d -p 3000:3000 grafana/grafana
```

**Linux:**
```bash
# Ubuntu/Debian
sudo apt-get install -y software-properties-common
sudo add-apt-repository "deb https://packages.grafana.com/oss/deb stable main"
sudo apt-get update
sudo apt-get install grafana

# å¯åŠ¨æœåŠ¡
sudo systemctl start grafana-server
sudo systemctl enable grafana-server
```

### 2. **è®¿é—® Grafana**
æ‰“å¼€æµè§ˆå™¨è®¿é—®: `http://localhost:3000`

é»˜è®¤ç™»å½•ä¿¡æ¯:
- ç”¨æˆ·å: `admin`
- å¯†ç : `admin`

### 3. **é…ç½®æ•°æ®æº**

#### é€‰é¡¹A: ä½¿ç”¨ Prometheus
1. å®‰è£… Prometheus
2. åœ¨ Grafana ä¸­æ·»åŠ  Prometheus æ•°æ®æº
3. é…ç½® JMeter æ•°æ®å¯¼å‡ºåˆ° Prometheus

#### é€‰é¡¹B: ä½¿ç”¨ InfluxDB
1. å®‰è£… InfluxDB
2. åœ¨ Grafana ä¸­æ·»åŠ  InfluxDB æ•°æ®æº
3. ä½¿ç”¨æä¾›çš„è„šæœ¬å¯¼å…¥ JMeter æ•°æ®

#### é€‰é¡¹C: ä½¿ç”¨ CSV æ–‡ä»¶
1. å®‰è£… CSV æ•°æ®æºæ’ä»¶
2. ç›´æ¥å¯¼å…¥ JMeter CSV æ–‡ä»¶

### 4. **å¯¼å…¥ Dashboard**

#### æ–¹æ³•A: ä½¿ç”¨ API
```bash
# è®¾ç½® API key
export GRAFANA_API_KEY="your_api_key"

# å¯¼å…¥ dashboard
curl -X POST \
  -H "Authorization: Bearer $GRAFANA_API_KEY" \
  -H "Content-Type: application/json" \
  -d @grafana_dashboard.json \
  http://localhost:3000/api/dashboards/db
```

#### æ–¹æ³•B: æ‰‹åŠ¨å¯¼å…¥
1. ç™»å½• Grafana
2. ç‚¹å‡» "+" â†’ "Import"
3. ä¸Šä¼  `grafana_dashboard.json` æ–‡ä»¶
4. é€‰æ‹©æ•°æ®æº
5. ç‚¹å‡» "Import"

## ğŸ”§ é…ç½® JMeter æ•°æ®é›†æˆ

### 1. **è¿è¡Œæ•°æ®è½¬æ¢è„šæœ¬**
```bash
python3 jmeter_to_grafana.py
```

### 2. **é…ç½® Jenkins é›†æˆ**
åœ¨ `Jenkinsfile` ä¸­æ·»åŠ :
```groovy
stage('Send to Grafana') {
    steps {
        script {
            // è¿è¡Œæ•°æ®è½¬æ¢
            sh 'python3 jmeter_to_grafana.py'
            
            // å¯é€‰ï¼šå‘é€åˆ° Grafana API
            if (env.GRAFANA_API_KEY) {
                sh '''
                    curl -X POST \\
                      -H "Authorization: Bearer $GRAFANA_API_KEY" \\
                      -H "Content-Type: application/json" \\
                      -d @grafana_dashboard.json \\
                      http://localhost:3000/api/dashboards/db
                '''
            }
        }
    }
}
```

## ğŸ“Š Grafana vs å…¶ä»–æ–¹æ¡ˆå¯¹æ¯”

| ç‰¹æ€§ | HTML Dashboard | Plot Plugin | Grafana |
|------|---------------|-------------|---------|
| **å›¾è¡¨ç±»å‹** | åŸºç¡€å›¾è¡¨ | ç®€å•å›¾è¡¨ | ä¸“ä¸šå›¾è¡¨ |
| **äº¤äº’æ€§** | ä¸­ç­‰ | ä½ | é«˜ |
| **å®æ—¶æ›´æ–°** | å¦ | å¦ | æ˜¯ |
| **å‘Šè­¦åŠŸèƒ½** | å¦ | å¦ | æ˜¯ |
| **å¤šæ•°æ®æº** | å¦ | å¦ | æ˜¯ |
| **æƒé™ç®¡ç†** | å¦ | å¦ | æ˜¯ |
| **å®‰è£…å¤æ‚åº¦** | ç®€å• | ä¸­ç­‰ | å¤æ‚ |
| **ç»´æŠ¤æˆæœ¬** | ä½ | ä½ | ä¸­ç­‰ |

## ğŸ¯ æ¨èä½¿ç”¨åœºæ™¯

### âœ… **ä½¿ç”¨ Grafana å½“ï¼š**
- éœ€è¦ä¸“ä¸šçš„æ€§èƒ½ç›‘æ§
- æœ‰å¤šä¸ªæ•°æ®æºéœ€è¦æ•´åˆ
- éœ€è¦å®æ—¶å‘Šè­¦åŠŸèƒ½
- å›¢é˜Ÿéœ€è¦æƒé™ç®¡ç†
- éœ€è¦é•¿æœŸæ•°æ®å­˜å‚¨å’Œåˆ†æ

### âœ… **ä½¿ç”¨ HTML Dashboard å½“ï¼š**
- åªéœ€è¦ç®€å•çš„æ€§èƒ½å±•ç¤º
- å¸Œæœ›å¿«é€Ÿéƒ¨ç½²
- ä¸éœ€è¦å¤æ‚çš„äº¤äº’åŠŸèƒ½
- å›¢é˜Ÿè§„æ¨¡è¾ƒå°

## ğŸ” ä¸‹ä¸€æ­¥

1. **å®‰è£… Grafana** å¹¶é…ç½®æ•°æ®æº
2. **å¯¼å…¥ dashboard** é…ç½®æ–‡ä»¶
3. **è¿è¡Œæ•°æ®è½¬æ¢è„šæœ¬** å¤„ç† JMeter æ•°æ®
4. **é…ç½® Jenkins é›†æˆ** è‡ªåŠ¨åŒ–æ•°æ®æ¨é€
5. **è®¾ç½®å‘Šè­¦è§„åˆ™** ç›‘æ§æ€§èƒ½é˜ˆå€¼

Grafana æä¾›äº†æœ€ä¸“ä¸šå’ŒåŠŸèƒ½æœ€ä¸°å¯Œçš„æ€§èƒ½ç›‘æ§ä½“éªŒï¼ 